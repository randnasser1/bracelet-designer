<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jewelry Designer</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

    body {
      font-family: 'Poppins', sans-serif;
      background: #ffe6f0;
      color: #333;
      margin: 0;
      padding: 2rem;
      text-align: center;
    }

    h1, h2 {
      color: #d6336c;
      margin-bottom: 1rem;
    }

    .product-selector {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .product-btn {
      background: #ff85b3;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.8rem 1.5rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .product-btn.active {
      background: #d6336c;
      box-shadow: 0 0 0 2px white, 0 0 0 4px #d6336c;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .control-group {
      background: rgba(255, 255, 255, 0.7);
      padding: 0.8rem;
      border-radius: 10px;
    }

    .btn {
      background: #ff85b3;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.6rem 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn:hover {
      background: #ff5fa3;
    }

    #jewelry-piece {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      padding: 1.5rem;
      border: 2px dashed #f5a0c2;
      border-radius: 16px;
      background: #fff0f5;
      min-height: 120px;
      margin: 0 auto 1.5rem;
      max-width: 800px;
    }

    .slot {
      width: 50px;
      height: 50px;
      border: 2px dashed #f5a0c2;
      border-radius: 10px;
      background: rgba(255, 160, 195, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      cursor: pointer;
    }

    .slot:empty::after {
      content: "+";
      position: absolute;
      color: #d6336c;
      font-size: 1.2rem;
      opacity: 0.5;
    }

    .slot img {
      width: 42px;
      height: 42px;
      object-fit: contain;
    }

    .price-display {
      font-size: 1.3rem;
      font-weight: 600;
      color: #d6336c;
      margin: 1rem 0;
    }

    .charm-pools {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .charm-pool {
      background: #fff0f5;
      border: 1px solid #f5a0c2;
      border-radius: 16px;
      padding: 1rem;
    }

    .charm-pool h3 {
      color: #a61e4d;
      margin-top: 0;
    }

    .charms-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .charm {
      width: 50px;
      height: 50px;
      cursor: pointer;
      transition: transform 0.2s;
      object-fit: contain;
    }

    .charm:hover {
      transform: scale(1.1);
    }

    .special {
      border: 2px solid #ff85b3;
      border-radius: 8px;
    }

    .rare {
      border: 2px solid purple;
      border-radius: 8px;
    }

    .pricing-info {
      background: white;
      padding: 1rem;
      border-radius: 10px;
      margin: 1.5rem auto;
      max-width: 600px;
      text-align: left;
    }

    .pricing-info ul {
      padding-left: 1.2rem;
    }

    .pricing-info li {
      margin-bottom: 0.5rem;
    }

    .highlight {
      color: #d6336c;
      font-weight: 600;
    }

    .selected {
      box-shadow: 0 0 0 3px #d6336c;
    }
  </style>
</head>
<body>
  <h1>Jewelry Designer</h1>
  
  <div class="product-selector">
    <button class="product-btn active" data-type="bracelet">Bracelet</button>
    <button class="product-btn" data-type="anklet">Anklet</button>
    <button class="product-btn" data-type="necklace">Necklace</button>
  </div>

  <div class="controls">
    <div class="control-group">
      <label>
        <input type="checkbox" id="gold-toggle"> Gold Version (+1 JD)
      </label>
    </div>
    <div class="control-group">
      <button class="btn" id="full-glam-btn">Full Glam Look</button>
    </div>
  </div>

  <div id="jewelry-piece"></div>

  <div class="price-display">
    <div id="base-price">Base Price: 10 JDs</div>
    <div id="charm-price">Charms: 0 JDs</div>
    <div id="total-price">Total: 10 JDs</div>
  </div>

  <div class="pricing-info">
    <h3>Pricing Information:</h3>
    <ul>
      <li><span class="highlight">Bracelet:</span> 10 JDs (18 slots - 2 special + 16 plain included)</li>
      <li><span class="highlight">Anklet:</span> 15 JDs (23 slots - 2 special included)</li>
      <li><span class="highlight">Necklace:</span> 22 JDs (34 slots - 2 special included)</li>
      <li>Gold version: +1 JD</li>
      <li>Additional plain charm: +0.5 JD</li>
      <li>Additional special charm: +2 JDs</li>
      <li>Rare charm: +3 JDs</li>
      <li><span class="highlight">Full Glam:</span> All charms special (29 JDs for bracelet, excludes rare)</li>
    </ul>
    <p>⚠️ Limited stock! DM to see designs or order now!</p>
  </div>

  <div class="charm-pools">
    <div class="charm-pool">
      <h3>Plain Charms (+0.5 JD)</h3>
      <div class="charms-grid" id="plain-charms">
        <!-- Plain charms will be added here by JS -->
      </div>
    </div>
    
    <div class="charm-pool">
      <h3>Special Charms (+2 JDs)</h3>
      <div class="charms-grid" id="special-charms">
        <!-- Special charms will be added here by JS -->
      </div>
    </div>
    
    <div class="charm-pool">
      <h3>Rare Charms (+3 JDs)</h3>
      <div class="charms-grid" id="rare-charms">
        <!-- Rare charms will be added here by JS -->
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // DOM Elements
      const jewelryPiece = document.getElementById('jewelry-piece');
      const goldToggle = document.getElementById('gold-toggle');
      const fullGlamBtn = document.getElementById('full-glam-btn');
      const productBtns = document.querySelectorAll('.product-btn');
      const basePriceDisplay = document.getElementById('base-price');
      const charmPriceDisplay = document.getElementById('charm-price');
      const totalPriceDisplay = document.getElementById('total-price');
      const plainCharmsGrid = document.getElementById('plain-charms');
      const specialCharmsGrid = document.getElementById('special-charms');
      const rareCharmsGrid = document.getElementById('rare-charms');

      // Product configurations
      const products = {
        bracelet: { basePrice: 10, slots: 18, includedSpecial: 2, fullGlam: 29 },
        anklet: { basePrice: 15, slots: 23, includedSpecial: 2, fullGlam: 42 },
        necklace: { basePrice: 22, slots: 34, includedSpecial: 2, fullGlam: 64 }
      };

      // Charm image lists
      const plainCharms = [
        'img_5957.png', 'img_5958.png', 'img_5959.png', 'img_5960.png',
        'img_5961.png', 'img_5962.png', 'img_5963.png', 'img_5965.png',
        'img_5968.png', 'img_5969.png', 'img_5970.png', 'img_5971.png',
        'img_5983.png', 'img_5992.png', 'img_5999.png', 'img_6001.png',
        'img_6005.png', 'img_6009.png', 'img_6010.png', 'img_6011.png',
        'img_6012.png', 'img_6013.png', 'img_6014.png', 'img_6016.png',
        'img_6018.png', 'img_6019.png', 'img_6020.png', 'img_6021.png',
        'img_6023.png', 'img_6024.png', 'img_6025.png', 'img_6028.png',
        'img_6030.png', 'img_6031.png', 'img_6032.png'
      ];

      const rareCharms = [
        'img_6035.png', 'img_6036.png', 'img_6038.png', 'img_6040.png',
        'img_6041.png', 'img_6045.png', 'img_6049.png', 'img_6050.png',
        'img_6052.png', 'img_6057.png', 'img_6060.png', 'img_6061.png'
      ];

      // Current state
      let currentProduct = 'bracelet';
      let selectedCharm = null;
      let isGold = false;
      let charmCount = 0;
      let specialCount = 0;
      let rareCount = 0;

      // Initialize
      initProduct(currentProduct);
      initCharms();

      // Product selection
      productBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          productBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          currentProduct = btn.dataset.type;
          initProduct(currentProduct);
          calculatePrice();
        });
      });

      // Gold toggle
      goldToggle.addEventListener('change', (e) => {
        isGold = e.target.checked;
        calculatePrice();
      });

      // Full glam button
      fullGlamBtn.addEventListener('click', () => {
        const price = products[currentProduct].fullGlam;
        if (confirm(`Set all charms to special for ${price} JDs?`)) {
          // Clear all slots
          jewelryPiece.innerHTML = '';
          createSlots(currentProduct);
          
          // Fill all slots with special charms
          const slots = document.querySelectorAll('.slot');
          slots.forEach(slot => {
            slot.innerHTML = '';
            const img = document.createElement('img');
            img.src = 'charms/' + plainCharms[0]; // Using first plain charm as special for demo
            img.alt = 'Special Charm';
            img.dataset.type = 'special';
            slot.appendChild(img);
          });
          
          specialCount = products[currentProduct].slots;
          rareCount = 0;
          calculatePrice();
        }
      });

      // Initialize product slots
      function initProduct(product) {
        jewelryPiece.innerHTML = '';
        createSlots(product);
        calculatePrice();
      }

      // Create slots for the product
      function createSlots(product) {
        const config = products[product];
        specialCount = 0;
        rareCount = 0;
        
        for (let i = 0; i < config.slots; i++) {
          const slot = document.createElement('div');
          slot.className = 'slot';
          slot.dataset.index = i;
          
          // First slots get special charms by default
          if (i < config.includedSpecial) {
            const img = document.createElement('img');
            img.src = 'charms/' + plainCharms[i % plainCharms.length];
            img.alt = 'Special Charm';
            img.dataset.type = 'special';
            slot.appendChild(img);
            specialCount++;
          } else {
            // Empty slot
            slot.dataset.prevType = 'plain';
          }
          
          slot.addEventListener('click', () => {
            if (selectedCharm) {
              // Replace the charm in this slot
              const prevImg = slot.querySelector('img');
              const prevType = prevImg ? prevImg.dataset.type : slot.dataset.prevType;
              
              if (prevType === 'special') specialCount--;
              if (prevType === 'rare') rareCount--;
              
              slot.innerHTML = '';
              const img = document.createElement('img');
              img.src = selectedCharm.src;
              img.alt = selectedCharm.alt;
              img.dataset.type = selectedCharm.dataset.type;
              slot.appendChild(img);
              
              if (selectedCharm.dataset.type === 'special') specialCount++;
              if (selectedCharm.dataset.type === 'rare') rareCount++;
              
              slot.dataset.prevType = selectedCharm.dataset.type;
              calculatePrice();
            }
          });
          
          jewelryPiece.appendChild(slot);
        }
        charmCount = config.slots;
      }

      // Initialize charms in the pools
      function initCharms() {
        // Plain charms (0.5 JD)
        plainCharms.forEach((charm, index) => {
          if (index < 16) { // Only show first 16 plain charms
            const charmEl = createCharm('charms/' + charm, 'Plain Charm ' + (index+1), 'plain');
            plainCharmsGrid.appendChild(charmEl);
          }
        });
        
        // Special charms (2 JDs) - using plain charms as special for demo
        plainCharms.slice(16).forEach((charm, index) => {
          const charmEl = createCharm('charms/' + charm, 'Special Charm ' + (index+1), 'special');
          specialCharmsGrid.appendChild(charmEl);
        });
        
        // Rare charms (3 JDs)
        rareCharms.forEach((charm, index) => {
          const charmEl = createCharm('rares/' + charm, 'Rare Charm ' + (index+1), 'rare');
          rareCharmsGrid.appendChild(charmEl);
        });
      }

      // Create a charm element
      function createCharm(src, alt, type) {
        const charm = document.createElement('img');
        charm.className = `charm ${type}`;
        charm.src = src;
        charm.alt = alt;
        charm.dataset.type = type;
        
        charm.addEventListener('click', () => {
          document.querySelectorAll('.charm').forEach(c => c.classList.remove('selected'));
          charm.classList.add('selected');
          selectedCharm = charm;
        });
        
        return charm;
      }

      // Calculate and update price display
      function calculatePrice() {
        const config = products[currentProduct];
        let basePrice = config.basePrice;
        if (isGold) basePrice += 1;
        
        // Calculate charm costs
        const includedPlain = Math.max(0, config.slots - config.includedSpecial - rareCount);
        const additionalSpecial = Math.max(0, specialCount - config.includedSpecial);
        const plainCost = 0; // Included in base price
        const specialCost = additionalSpecial * 2;
        const rareCost = rareCount * 3;
        
        const totalCharmCost = specialCost + rareCost;
        const total = basePrice + totalCharmCost;
        
        // Update displays
        basePriceDisplay.textContent = `Base Price: ${basePrice} JDs`;
        charmPriceDisplay.textContent = `Charms: ${totalCharmCost} JDs`;
        totalPriceDisplay.textContent = `Total: ${total} JDs`;
      }
    });
  </script>
</body>
</html>
